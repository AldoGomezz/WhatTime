<div class="list">
  <app-navbar></app-navbar>
  <mat-tab-group>
    <mat-tab label="Notas">
      <mat-selection-list [multiple]="false">
        <div class="mat-list-option-cover">
          <form class="notaForm" [formGroup]="notasID" (ngSubmit)="getNotasByID()">
            <div>
              <mat-form-field class="ancho" appearance="fill">
                <mat-label>ID Usuario</mat-label>
                <input type="string"  formControlName="id_usuario" matInput>
              </mat-form-field>
            </div>
          </form>
          <button (click)="getNotasByID()">Obtener Notas:</button>
          <mat-list-option *ngFor="let nota of this.notas" >
            <div class="d-flex justify-content-between">
           <span class="nota-ID">
                        {{ nota.id }}
                    </span>

              <span class="nota-name">
                        {{ nota.name_nota }}
                    </span>
              <span class="nota-importancia">
                        {{ nota.importancia }}
                    </span>
              <span class="nota-fecha-culminacion">
                        {{ nota.fecha_culminacion }}
                    </span>
              <span class="nota_status">
                        {{ nota.status }}
                    </span>
              <span class="nota-contenido">
                    {{ nota.contenido.substring(0, 40) }}
                {{ nota.contenido.length > 30 ? "..." : "" }}
                </span>
            </div>

          </mat-list-option>
        </div>
      </mat-selection-list>
    </mat-tab>

    <mat-tab label="Filtrar por Importancia">

      <mat-selection-list [multiple]="false">
        <div class="mat-list-option-cover">
          <form class="notaForm" [formGroup]="notasID" (ngSubmit)="getNotasByImportancia()">
            <div>
              <mat-form-field class="ancho" appearance="fill">
                <mat-label>ID Usuario</mat-label>
                <input type="string"  formControlName="id_usuario" matInput>
              </mat-form-field>
                <br/>
              <mat-form-field class="ancho" appearance="fill">
                <mat-label>Importancia</mat-label>
                <input type="number"  formControlName="importancia" min="1" max="3" matInput>
                <mat-error>Importancia valida entre 1-3</mat-error>
              </mat-form-field>
            </div>
          </form>

          <button (click)="getNotasByImportancia()">Obtener Notas:</button>
          <mat-list-option *ngFor="let nota of this.notasimport" >
            <div class="d-flex justify-content-between">
           <span class="nota-ID">
                        {{ nota.id }}
                    </span>

              <span class="nota-name">
                        {{ nota.name_nota }}
                    </span>
              <span class="nota-importancia">
                        {{ nota.importancia }}
                    </span>
              <span class="nota-fecha-culminacion">
                        {{ nota.fecha_culminacion }}
                    </span>
              <span class="nota_status">
                        {{ nota.status }}
                    </span>
              <span class="nota-contenido">
                    {{ nota.contenido.substring(0, 40) }}
                {{ nota.contenido.length > 30 ? "..." : "" }}
                </span>
            </div>

          </mat-list-option>
        </div>
      </mat-selection-list>
    </mat-tab>

    <mat-tab label="Busqueda por Nombre">

      <mat-selection-list [multiple]="false">
        <div class="mat-list-option-cover">
          <form class="notaForm" [formGroup]="notasID" (ngSubmit)="getNotasByNotaName()">
            <div>
              <mat-form-field class="ancho" appearance="fill">
                <mat-label>ID Usuario</mat-label>
                <input type="string"  formControlName="id_usuario" matInput>
              </mat-form-field>
              <br/>
              <mat-form-field class="ancho" appearance="fill">
                <mat-label>Nombre de la Nota</mat-label>
                <input type="string"  formControlName="nota_nombre" matInput>
              </mat-form-field>
            </div>
          </form>

          <button (click)="getNotasByNotaName()">Obtener Notas:</button>
          <br/>
          <br/>
          <mat-list-option *ngFor="let nota of this.notasNombre" >
            <mat-icon matListIcon>folder</mat-icon>
            <div class="d-flex justify-content-between">

              <span class="nota-ID">
                        {{ nota.id }}
                    </span>

              <span class="nota-name">
                        {{ nota.name_nota }}
                    </span>
              <span class="nota-importancia">
                        {{ nota.importancia }}
                    </span>
              <span class="nota-fecha-culminacion">
                        {{ nota.fecha_culminacion }}
                    </span>
              <span class="nota_status">
                        {{ nota.status }}
                    </span>
              <span class="nota-contenido">
                    {{ nota.contenido.substring(0, 40) }}
                {{ nota.contenido.length > 30 ? "..." : "" }}
                </span>
            </div>
          </mat-list-option>
        </div>
      </mat-selection-list>

    </mat-tab>

    <mat-tab label="Obtener Notas entre Fechas">
      <mat-selection-list [multiple]="false">
        <div class="mat-list-option-cover">
          <form class="notaForm" [formGroup]="notasID" (ngSubmit)="getNotaByFCFC()">
            <div>
              <mat-form-field appearance="fill">
                <mat-label>Ingresar Fecha</mat-label>
                <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                  <input matStartDate formControlName="start" placeholder="Fecha de Inicio"  >
                  <input matEndDate formControlName="end" placeholder="Fecha de CulminaciÃ³n" >
                </mat-date-range-input>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-date-range-picker #picker></mat-date-range-picker>

                <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Invalid start date</mat-error>
                <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Invalid end date</mat-error>
              </mat-form-field>

            </div>
          </form>

          <button (click)="getNotaByFCFC()">Obtener Notas:</button>
          <br/>
          <br/>
          <mat-list-option *ngFor="let nota of this.notasFC" >
            <mat-icon matListIcon>folder</mat-icon>
            <div class="d-flex justify-content-between">

              <span class="nota-ID">
                        {{ nota.id }}
                    </span>

              <span class="nota-name">
                        {{ nota.name_nota }}
                    </span>
              <span class="nota-importancia">
                        {{ nota.importancia }}
                    </span>
              <span class="nota-fecha-culminacion">
                        {{ nota.fecha_culminacion }}
                    </span>
              <span class="nota_status">
                        {{ nota.status }}
                    </span>
              <span class="nota-contenido">
                    {{ nota.contenido.substring(0, 40) }}
                {{ nota.contenido.length > 30 ? "..." : "" }}
                </span>
            </div>
          </mat-list-option>
        </div>
      </mat-selection-list>


    </mat-tab>

    <mat-tab label="Actualizar Nombre de la Nota">
      <form class="notaForm" [formGroup]="notasID" (ngSubmit)="actualizarNameNota()">
        <div>
          <mat-form-field class="ancho" appearance="fill">
            <mat-label>Id Nota</mat-label>
            <input type="string"  formControlName="id_nota" matInput>
          </mat-form-field>
          <br/>
          <mat-form-field class="ancho" appearance="fill">
            <mat-label>Nombre de la Nota</mat-label>
            <input type="string"  formControlName="nota_nombre" matInput>
          </mat-form-field>
        </div>
      </form>

      <button (click)="actualizarNameNota()">Actualizar</button>
    </mat-tab>

    <mat-tab label="Actualizar Descripcion">
      <form class="notaForm" [formGroup]="notasID" (ngSubmit)="actualizarDescriptionNota()">
        <div>
          <mat-form-field class="ancho" appearance="fill">
            <mat-label>Id Nota</mat-label>
            <input type="string"  formControlName="id_nota" matInput>
          </mat-form-field>
          <br/>
          <mat-form-field class="ancho" appearance="fill">
            <mat-label>Descripcion Actualizada</mat-label>
            <input type="string"  formControlName="description" matInput>
          </mat-form-field>
        </div>
      </form>

      <button (click)="actualizarDescriptionNota()">Actualizar</button>
    </mat-tab>

    <mat-tab label="Eliminar Nota">
      <form class="notaForm" [formGroup]="notasID" (ngSubmit)="eliminarCuenta()">
        <div>
          <mat-form-field class="ancho" appearance="fill">
            <mat-label>Id Nota</mat-label>
            <input type="string"  formControlName="id_nota" matInput>
          </mat-form-field>
        </div>
      </form>

      <button (click)="eliminarCuenta()">Eliminar</button>
    </mat-tab>



  </mat-tab-group>
</div>

  <!--<mat-selection-list [multiple]="false">
    <div class="mat-list-option-cover">
      <button (click)="getNotasByID()">Obtener Notas por Usuario ID:</button>
      <div class="example-container">
        <mat-form-field appearance="fill">
          <mat-label>Ingresa tu ID de Usuario</mat-label>
          <input matInput placeholder="pat@example.com" [formControl]="id_user" required>
        </mat-form-field>
      </div>

      <mat-list-option *ngFor="let nota of this.notas">
        <div class="d-flex justify-content-between">

                    <span class="nota-name">
                        {{ nota.name_nota }}
                    </span>
          <span class="nota-importancia">
                        {{ nota.importancia }}
                    </span>
          <span class="nota-fecha-creacion">
                        {{ nota.fecha_creacion }}
                    </span>
          <span class="nota-fecha-culminacion">
                        {{ nota.fecha_culminacion }}
                    </span>
        </div>
        <span class="nota-contenido">
                    {{ nota.contenido.substring(0, 40) }}
          {{ nota.contenido.length > 30 ? "..." : "" }}
                </span>
      </mat-list-option>
    </div>
  </mat-selection-list>
</div> -->

